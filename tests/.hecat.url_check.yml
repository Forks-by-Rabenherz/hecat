steps:
  - name: check URLs
    module: processors/url_check
    module_options:
      source_directories: # check URLs in all .yml files under these directories
        - awesome-selfhosted-data/software
        - awesome-selfhosted-data/tags
      source_files: # check URLs in these files
        - awesome-selfhosted-data/licenses.yml
      check_keys: # (list) YAML keys containing URLs to check, if they exist
        - url
        - source_code_url
        - website_url
        - demo_url
      exclude_regex: # (list, default empty) don't check URLs matching these regular expressions
        - '^https://github.com/[\w\.\-]+/[\w\.\-]+$' # don't check URLs that will be processed by the github_metadata module
        - '^https://retrospring.net/$' # DDoS protection page, always returns 403
        - '^https://www.taiga.io/$' # always returns 403 Request forbidden by administrative rules
        - '^https://docs.paperless-ngx.com/$' # DDoS protection page, always returns 403
        - '^https://demo.paperless-ngx.com/$' # DDoS protection page, always returns 403
        - '^https://git.dotclear.org/dev/dotclear$' # DDoS protection page, always returns 403
        - '^https://github.com/clupasq/word-mastermind$' # the demo instance takes a long time to spin up, times out with the default 10s timeout
        - '^https://getgrist.com/$' # hecat/python-requests bug? 'Received response with content-encoding: gzip,br, but failed to decode it.'
